{% extends "base.njk" %}

{% block content %}
<header class="page-header">
  <h1 class="page-title">Blog</h1>
  <p class="page-description">All posts, newest first</p>
</header>

<div class="post-list">
  {% for post in posts %}
  <article class="post-card">
    <h2 class="post-card-title">
      <a href="{{ post.url }}">{{ post.title }}</a>
      {% if post.draft %}<span class="draft-badge">Draft</span>{% endif %}
    </h2>
    <div class="post-card-meta">
      <time datetime="{{ post.date | date('iso') }}">{{ post.date | date('long') }}</time>
      <span class="post-card-reading-time">{{ post.content | readingTime }}</span>
    </div>
    {% if post.tags and post.tags.length %}
    <div class="post-card-tags">
      {% for tag in post.tags %}
      <a href="{{ '/tags/' | url }}{{ tag | slug }}/" class="tag tag-sm">{{ tag }}</a>
      {% endfor %}
    </div>
    {% endif %}
    <p class="post-card-excerpt">{{ post.excerpt }}</p>
    <a href="{{ post.url }}" class="post-card-link">Read more â†’</a>
  </article>
  {% else %}
  <p class="empty-message">No posts yet. Create your first post with <code>npx sia new post "My First Post"</code></p>
  {% endfor %}
</div>

{% include "pagination.njk" %}
{% endblock %}

